(function(e){function t(t){for(var r,c,i=t[0],l=t[1],u=t[2],s=0,d=[];s<i.length;s++)c=i[s],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&d.push(a[c][0]),a[c]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);b&&b(t);while(d.length)d.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,c=1;c<n.length;c++){var i=n[c];0!==a[i]&&(r=!1)}r&&(o.splice(t--,1),e=l(l.s=n[0]))}return e}var r={},c={app:0},a={app:0},o=[];function i(e){return l.p+"js/"+({}[e]||e)+"."+{"chunk-6d9c2f68":"a724c7ab"}[e]+".js"}function l(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.e=function(e){var t=[],n={"chunk-6d9c2f68":1};c[e]?t.push(c[e]):0!==c[e]&&n[e]&&t.push(c[e]=new Promise((function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-6d9c2f68":"3dd7bef5"}[e]+".css",a=l.p+r,o=document.getElementsByTagName("link"),i=0;i<o.length;i++){var u=o[i],s=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(s===r||s===a))return t()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){u=d[i],s=u.getAttribute("data-href");if(s===r||s===a)return t()}var b=document.createElement("link");b.rel="stylesheet",b.type="text/css",b.onload=t,b.onerror=function(t){var r=t&&t.target&&t.target.src||a,o=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=r,delete c[e],b.parentNode.removeChild(b),n(o)},b.href=a;var j=document.getElementsByTagName("head")[0];j.appendChild(b)})).then((function(){c[e]=0})));var r=a[e];if(0!==r)if(r)t.push(r[2]);else{var o=new Promise((function(t,n){r=a[e]=[t,n]}));t.push(r[2]=o);var u,s=document.createElement("script");s.charset="utf-8",s.timeout=120,l.nc&&s.setAttribute("nonce",l.nc),s.src=i(e);var d=new Error;u=function(t){s.onerror=s.onload=null,clearTimeout(b);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),c=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+r+": "+c+")",d.name="ChunkLoadError",d.type=r,d.request=c,n[1](d)}a[e]=void 0}};var b=setTimeout((function(){u({type:"timeout",target:s})}),12e4);s.onerror=s.onload=u,document.head.appendChild(s)}return Promise.all(t)},l.m=e,l.c=r,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)l.d(n,r,function(t){return e[t]}.bind(null,r));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/",l.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],s=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var b=s;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1883:function(e,t,n){},"23de":function(e,t,n){},"3dfe":function(e,t,n){"use strict";n("1883")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),c=n("dbeb"),a=n("6c02"),o=(n("b0c0"),{class:"home flex"}),i={class:"flex-1 overflow-hidden"},l={class:"flex",style:{height:"calc(100vh - 64px)"}},u={class:"code flex-grow space-y-2 h-full overflow-hidden"};function s(e,t,n,c,a,s){var d=Object(r["B"])("home-sidebar"),b=Object(r["B"])("home-navigation"),j=Object(r["B"])("snippets"),f=Object(r["B"])("router-view");return Object(r["v"])(),Object(r["g"])("div",o,[Object(r["j"])(d),Object(r["j"])("div",i,[Object(r["j"])(b),Object(r["j"])("div",l,[Object(r["j"])("div",{class:["lg:border-r overflow-auto scroll w-full md:max-w-xs",{"hidden md:block":"view"===c.route.name}]},[Object(r["j"])(j)],2),Object(r["j"])("div",u,[Object(r["j"])(f)])])])])}var d={class:"bg-light h-full p-5 h-screen overflow-auto scroll w-64 bg-opacity-100 shadow-xl lg:shadow-none"},b={class:"mb-6 library"},j=Object(r["j"])("p",{class:"mb-3 text-lighter"},"Library",-1),f=Object(r["i"])(" All snippets "),p=Object(r["i"])(" Starred "),O={class:"folders"},m={class:"flex items-center text-lighter justify-between mb-3"},v=Object(r["j"])("p",null,"Folders",-1),h={key:0,class:"text-lighter text-center mt-8"},g={class:"text-overflow w-32"},y=Object(r["i"])(" Rename "),k=Object(r["i"])(" Delete ");function w(e,t,n,c,a,o){var i=Object(r["B"])("icon-ui"),l=Object(r["B"])("list-item-ui"),u=Object(r["B"])("list-ui"),s=Object(r["B"])("popover-ui"),w=Object(r["C"])("tooltip"),x=Object(r["C"])("close-popover");return Object(r["v"])(),Object(r["g"])("div",{class:["absolute z-50 lg:relative w-full lg:w-64 bg-black bg-opacity-25",[c.store.state.showSidebar?"block":"hidden lg:block"]],onClick:t[3]||(t[3]=Object(r["P"])((function(){return c.closeSidebar.apply(c,arguments)}),["self"]))},[Object(r["j"])("div",d,[Object(r["j"])("div",b,[j,Object(r["j"])(u,{class:"space-y-1"},{default:Object(r["M"])((function(){return[Object(r["j"])(l,{small:"",class:"cursor-pointer",active:"all"===c.activeFilter,onClick:t[1]||(t[1]=function(e){return c.filterBy("all")})},{prepend:Object(r["M"])((function(){return[Object(r["j"])(i,{name:"archive"})]})),default:Object(r["M"])((function(){return[f]})),_:1},8,["active"]),Object(r["j"])(l,{small:"",class:"cursor-pointer",active:"starred"===c.activeFilter,onClick:t[2]||(t[2]=function(e){return c.filterBy("starred")})},{prepend:Object(r["M"])((function(){return[Object(r["j"])(i,{name:"star"})]})),default:Object(r["M"])((function(){return[p]})),_:1},8,["active"])]})),_:1})]),Object(r["j"])("div",O,[Object(r["j"])("div",m,[v,Object(r["N"])(Object(r["j"])(i,{class:"cursor-pointer",name:"mdiPlus",onClick:c.addFolder},null,8,["onClick"]),[[w,"Add folder"]])]),0===c.folders.length?(Object(r["v"])(),Object(r["g"])("p",h," You have no folder ")):Object(r["h"])("",!0),Object(r["j"])(u,{class:"space-y-1"},{default:Object(r["M"])((function(){return[(Object(r["v"])(!0),Object(r["g"])(r["a"],null,Object(r["z"])(c.folders,(function(e){return Object(r["v"])(),Object(r["g"])(l,{small:"",key:e.id,class:"cursor-pointer group",onClick:function(t){return c.filterBy(e.id)},active:e.id===c.activeFilter},{prepend:Object(r["M"])((function(){return[Object(r["j"])(i,{name:"folder"})]})),append:Object(r["M"])((function(){return[Object(r["j"])(s,{class:"text-default"},{popover:Object(r["M"])((function(){return[Object(r["j"])(u,{class:"w-40 space-y-1"},{default:Object(r["M"])((function(){return[Object(r["N"])(Object(r["j"])(l,{small:"",onClick:function(t){return c.renameFolder(e)},class:"cursor-pointer"},{prepend:Object(r["M"])((function(){return[Object(r["j"])(i,{name:"pencil"})]})),default:Object(r["M"])((function(){return[y]})),_:1},8,["onClick"]),[[x]]),Object(r["N"])(Object(r["j"])(l,{onClick:function(t){return c.deleteFolder(e)},small:"",class:"cursor-pointer"},{prepend:Object(r["M"])((function(){return[Object(r["j"])(i,{name:"trash",class:"text-danger"})]})),default:Object(r["M"])((function(){return[k]})),_:1},8,["onClick"]),[[x]])]})),_:1})]})),default:Object(r["M"])((function(){return[Object(r["j"])(i,{name:"dotsHorizontal",class:[[e.id===c.activeFilter?"visibile":"md:invisible"],"group-hover:visible"]},null,8,["class"])]})),_:2},1024)]})),default:Object(r["M"])((function(){return[Object(r["j"])("p",g,Object(r["G"])(e.name),1)]})),_:2},1032,["onClick","active"])})),128))]})),_:1})])])],2)}n("fb6a"),n("96cf");var x=n("c964"),C=n("5502"),M=(n("d81d"),n("276c")),B=n("e954"),S=n("920b"),A=n("92a6"),_=n("fc11"),F=n("0937"),N=n("e1bd");function D(e){return new Date(e).getTime()}function E(e){var t=e.$store();t.commit("updateState",{key:"isDataChanged",value:!0}),localStorage.setItem("isDataChanged","true")}var I=function(e){Object(S["a"])(n,e);var t=Object(A["a"])(n);function n(){return Object(M["a"])(this,n),t.apply(this,arguments)}return Object(B["a"])(n,null,[{key:"fields",value:function(){return{id:this.uid((function(){return Object(N["a"])()})),folderId:this.attr(null),name:this.string(""),language:this.string("javascript"),code:this.string(""),starred:this.boolean(!1),createdAt:this.number(Date.now()),isShared:this.boolean(!1),isEdited:this.boolean(!1),isNew:this.boolean(!1)}}},{key:"afterWhere",value:function(e){return e.map((function(e){return delete e.$id,delete e.isEdited,e}))}},{key:"afterUpdate",value:function(e){E(e)}},{key:"afterDelete",value:function(e){if(!e.isNew){E(e);var t=JSON.parse(localStorage.getItem("deletedFiles"))||[];t.push(e.id),localStorage.setItem("deletedFiles",JSON.stringify(t))}}}]),n}(F["b"]);Object(_["a"])(I,"entity","files"),Object(_["a"])(I,"primaryKey","id");var L=I,z=function(e){Object(S["a"])(n,e);var t=Object(A["a"])(n);function n(){return Object(M["a"])(this,n),t.apply(this,arguments)}return Object(B["a"])(n,null,[{key:"fields",value:function(){return{id:this.uid((function(){return Object(N["a"])()})),name:this.string(""),createdAt:this.number(Date.now()),files:this.hasMany(L,"folderId"),isEdited:this.boolean(!1),isNew:this.boolean(!1)}}},{key:"afterUpdate",value:function(e){E(e)}},{key:"afterWhere",value:function(e){return e.map((function(e){return delete e.$id,delete e.isEdited,e}))}},{key:"afterDelete",value:function(e){if(!e.isNew){E(e);var t=JSON.parse(localStorage.getItem("deletedFolders"))||[];t.push(e.id),localStorage.setItem("deletedFolders",JSON.stringify(t))}}}]),n}(F["b"]);Object(_["a"])(z,"entity","folders"),Object(_["a"])(z,"primaryKey","id");var R=z,P={setup:function(){var e=Object(c["b"])(),t=Object(C["b"])(),n=Object(r["e"])((function(){return t.state.filterBy})),a=Object(r["e"])((function(){return R.query().orderBy("name","asc").get()}));function o(e){t.commit("updateState",{key:"filterBy",value:e})}function i(){e.prompt({title:"Add folder",input:{label:"Folder name"},onConfirm:function(e){R.$update({data:{name:e,isEdited:!0,isNew:!0}}),t.commit("updateState",{key:"isDataChanged",value:!0})}})}function l(t){var n=t.name,r=t.id;e.prompt({title:"Rename folder",input:{label:"Folder name",modelValue:n,maxlength:60},onConfirm:function(e){R.$update({where:r,data:{name:e.slice(0,60),isEdited:!0}})}})}function u(n){var r=n.id,c=n.name;e.confirm({title:"Delete folder",content:'Are you sure want to delete "'.concat(c,'" folder?'),buttons:{confirm:{text:"Delete",variant:"danger"}},onConfirm:function(){R.$delete(r).then(Object(x["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,L.$delete((function(e){return e.folderId===r}));case 2:t.commit("updateState",{key:"filterBy",value:"all"});case 3:case"end":return e.stop()}}),e)}))))}})}function s(){t.commit("updateState",{key:"showSidebar",value:!1})}return{store:t,folders:a,filterBy:o,addFolder:i,closeSidebar:s,deleteFolder:u,renameFolder:l,activeFilter:n}}};P.render=w;var U=P,V={class:"snippets relative h-full"},$={class:"border-b px-5 py-3 flex items-center justify-between"},T={class:"sort"},G={class:"mb-3 flex items-center"},H={key:0,class:"text-lighter text-center my-6"};function J(e,t,n,c,a,o){var i=Object(r["B"])("icon-ui"),l=Object(r["B"])("button-ui"),u=Object(r["B"])("select-ui"),s=Object(r["B"])("router-link"),d=Object(r["C"])("tooltip");return Object(r["v"])(),Object(r["g"])("div",V,[Object(r["j"])("div",$,[Object(r["j"])("div",T,[Object(r["N"])(Object(r["j"])(l,{icon:"",onClick:t[1]||(t[1]=function(e){return c.sort.type="asc"===c.sort.type?"desc":"asc"}),class:"rounded-r-none border-r align-bottom"},{default:Object(r["M"])((function(){return[Object(r["j"])(i,{name:"asc"===c.sort.type?"sortAscending":"sortDescending"},null,8,["name"])]})),_:1},512),[[d,"asc"===c.sort.type?"ascending":"descending"]]),Object(r["j"])(u,{width:"160px",class:"select-sort",options:c.sortOptions,"item-label":"name","item-value":"value",modelValue:c.sort.by,"onUpdate:modelValue":t[2]||(t[2]=function(e){return c.sort.by=e})},null,8,["options","modelValue"])]),Object(r["N"])(Object(r["j"])(l,{icon:"",variant:"primary",onClick:c.addFile,disabled:"starred"===c.activeFilter||"all"===c.activeFilter},{default:Object(r["M"])((function(){return[Object(r["j"])(i,{name:"mdiPlus"})]})),_:1},8,["onClick","disabled"]),[[d,"Add snippet"]])]),Object(r["j"])(r["d"],{name:"snippet-list"},{default:Object(r["M"])((function(){return[(Object(r["v"])(!0),Object(r["g"])(r["a"],null,Object(r["z"])(c.snippets,(function(e){return Object(r["v"])(),Object(r["g"])("div",{class:"snippet-container",key:e.id},[Object(r["j"])(s,{to:"/view/".concat(e.id),custom:"","exact-active-class":"bg-light text-primary"},{default:Object(r["M"])((function(t){var n=t.navigate,a=t.href,o=t.isExactActive;return[Object(r["j"])("div",{class:["py-4 px-5 border-b snippet block hover:bg-light group",{"text-primary bg-light":o}]},[Object(r["j"])("div",G,[e.isShared?(Object(r["v"])(),Object(r["g"])(i,{key:0,name:"link",size:"18",class:"text-primary mr-1"})):Object(r["h"])("",!0),Object(r["j"])("a",Object(r["p"])({class:"leading-tight text-overflow flex-1 pr-2 focus:text-primary"},{href:a},{onClick:n,title:e.name}),Object(r["G"])(e.name),17,["onClick","title"]),Object(r["j"])(i,{name:e.starred?"starSolid":"star",size:"22",class:[[e.starred?"text-warning visible":"lg:invisible text-light"],"group-hover:visible cursor-pointer"],onClick:function(t){return c.updateFile(e.id,{starred:!e.starred})}},null,8,["name","class","onClick"])]),Object(r["j"])("a",Object(r["p"])({class:"snippet__footer text-sm text-lighter flex items-center justify-between",onClick:n},{href:a}),[Object(r["j"])("span",null,Object(r["G"])(e.language),1),Object(r["j"])("span",null,Object(r["G"])(c.formatTime(e.createdAt)),1)],16,["onClick"])],2)]})),_:2},1032,["to"])])})),128))]})),_:1}),0===c.snippets.length?(Object(r["v"])(),Object(r["g"])("p",H," No data ")):Object(r["h"])("",!0)])}n("caad"),n("2532");var Y=n("f3f3"),q=n("5a0c"),K=n.n(q),Q=n("4208"),W=n.n(Q);K.a.extend(W.a);var Z={setup:function(){var e=Object(r["E"])({by:"createdAt",type:"desc"}),t=[{name:"Created date",value:"createdAt"},{name:"Name",value:"name"},{name:"Language",value:"language"}],n=Object(C["b"])(),c=Object(r["e"])((function(){return n.state.filterBy})),a=Object(r["e"])((function(){var t=n.state.searchQuery,r=L.query().where((function(e){return"all"===c.value||("starred"===c.value?e.starred:e.folderId===c.value)})).where((function(e){var n=e.name,r=e.code;return n.toLowerCase().includes(t)||r.toLowerCase().includes(t)})).orderBy(e.by,e.type).get();return r}));function o(e,t){L.$update({where:e,data:Object(Y["a"])(Object(Y["a"])({},t),{},{isEdited:!0})})}function i(){L.$update({data:{name:"untitled snippet",folderId:n.state.filterBy,isNew:!0,isEdited:!0}}),n.commit("updateState",{key:"isDataChanged",value:!0})}function l(e){return K()(e).fromNow()}return{sort:e,addFile:i,snippets:a,updateFile:o,formatTime:l,sortOptions:t,activeFilter:c}}};n("d641");Z.render=J;var X=Z,ee={class:"h-16 px-5 border-b flex items-center"},te={class:"lg:hidden"},ne={class:"search-container flex-1"},re={class:"space-x-2 flex items-center"},ce={href:"https://github.com/Kholid060/snapcode",class:"mr-2 hidden sm:inline-block",target:"_blank",rel:"noopener"};function ae(e,t,n,c,a,o){var i=Object(r["B"])("icon-ui"),l=Object(r["B"])("router-link"),u=Object(r["B"])("button-ui"),s=Object(r["B"])("user-popover"),d=Object(r["C"])("tooltip");return Object(r["v"])(),Object(r["g"])("nav",ee,[Object(r["j"])("div",te,["view"===e.$route.name?(Object(r["v"])(),Object(r["g"])(l,{key:0,to:"/",class:"md:hidden"},{default:Object(r["M"])((function(){return[Object(r["j"])(i,{name:"arrowLeft",class:"mr-4"})]})),_:1})):Object(r["h"])("",!0),Object(r["j"])("button",{class:{"hidden md:block":"view"===e.$route.name}},[Object(r["j"])(i,{name:"menu",class:"mr-4 lg:hidden cursor-pointer",onClick:c.toggleSidebar},null,8,["onClick"])],2)]),Object(r["j"])("div",ne,[Object(r["j"])("div",{class:["md:block",{hidden:"view"===e.$route.name}]},[Object(r["j"])(i,{name:"search",class:"text-lighter mr-2"}),Object(r["j"])("input",{type:"text",placeholder:"Search...",class:"h-full bg-transparent w-32 md:w-56",onInput:t[1]||(t[1]=function(){return c.updateSearchQuery.apply(c,arguments)})},null,32)],2)]),Object(r["j"])("div",re,[Object(r["N"])(Object(r["j"])("a",ce,[Object(r["j"])(i,{name:"mdiGithub",class:"text-light",size:"28"})],512),[[d,"Github"]]),Object(r["N"])(Object(r["j"])("div",null,[c.state.user?(Object(r["v"])(),Object(r["g"])(u,{key:0,icon:"",onClick:c.backupData,loading:c.isBackingUp,disabled:!c.state.isDataChanged,variant:"primary"},{default:Object(r["M"])((function(){return[Object(r["j"])(i,{name:"cloudUpload"})]})),_:1},8,["onClick","loading","disabled"])):Object(r["h"])("",!0)],512),[[d,c.state.isDataChanged?"Backup data":"Last backup: ".concat(c.lastBackup)]]),Object(r["j"])(s,{class:"mt-1"})])])}n("a623");var oe=n("7548"),ie=(n("99af"),n("0b3b")),le=new ie["a"]({apiKey:Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_FIREBASE_API_KEY,redirectUri:Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_REDIRECT_URI}),ue=function(e,t){return le.authorizedRequest("".concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_API_BASE_URL).concat(e),Object(Y["a"])({headers:{"Content-Type":"application/json"}},t)).then((function(e){return e.json()}))},se=new F["c"].Database;se.register(L),se.register(R),F["c"].use(oe["a"],{localforage:{name:"snapcode2"},database:se});var de=Object(C["a"])({plugins:[F["c"].install(se)],state:function(){return{searchQuery:"",filterBy:"all",showSidebar:!1,user:null,lastBackup:Date.now(),isDataChanged:!1}},mutations:{updateState:function(e,t){var n=t.key,r=t.value;e[n]=r}},actions:{retrieveData:function(e){return Object(x["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.commit,r=JSON.parse(localStorage.getItem("firstTime")),null!==r){t.next=8;break}return t.next=5,R.$create({data:{name:"My Folder",files:[{name:"First snippet",code:"console.log('hello world')"}]}});case 5:localStorage.setItem("firstTime",!1),t.next=12;break;case 8:return t.next=10,R.$fetch();case 10:return t.next=12,L.$fetch();case 12:n("updateState",{key:"user",value:le.user}),le.listen((function(e){n("updateState",{key:"user",value:e})})),n("updateState",{key:"isDataChanged",value:JSON.parse(localStorage.getItem("isDataChanged"))||!1}),n("updateState",{key:"lastBackup",value:JSON.parse(localStorage.getItem("lastBackup"))||Date.now()});case 16:case"end":return t.stop()}}),t)})))()}}}),be=de,je=(n("d3b7"),function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;return function(){for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return clearTimeout(t),new Promise((function(r){t=setTimeout((function(){t=null,e.apply(void 0,c),r()}),n)}))}});n("4160"),n("159b");function fe(e){return e.charAt(0).toUpperCase()+e.slice(1)}var pe={getAllUpdated:function(e){return be.$db().model(e).query().where((function(e){var t=e.isEdited,n=e.isNew;return t||n})).get()},getAllDeleted:function(e){return JSON.parse(localStorage.getItem("deleted".concat(fe(e))))||[]},cleanAllFlag:function(e,t){return new Promise((function(n){t.forEach((function(t){be.$db().model(e).$update({where:"string"===typeof t?t:t.id,data:{isEdited:!1,isNew:!1}})})),localStorage.setItem("deleted".concat(fe(e)),JSON.stringify([])),n()}))}};function Oe(e){var t=e.files,n=e.folders,r=["updated","deleted"],c=r.every((function(e){return 0===t[e].length})),a=r.every((function(e){return 0===n[e].length}));return a&&c}var me=function(){function e(){Object(M["a"])(this,e),this.init=je(this.fetch.bind(this),1e3),this.data={},this.listeners={}}return Object(B["a"])(e,[{key:"fetchData",value:function(){this.data={files:{updated:pe.getAllUpdated("files"),deleted:pe.getAllDeleted("files")},folders:{updated:pe.getAllUpdated("folders"),deleted:pe.getAllDeleted("folders")}}}},{key:"fetch",value:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(le.user){e.next=2;break}return e.abrupt("return");case 2:if(e.prev=2,this.fetchData(),!Oe(this.data)){e.next=6;break}return e.abrupt("return");case 6:return this.fireEvent("progress",!0),t=Date.now(),e.next=10,ue("/sync",{method:"POST",body:JSON.stringify(Object(Y["a"])(Object(Y["a"])({},this.data),{},{lastBackup:t}))});case 10:return e.next=12,pe.cleanAllFlag("files",this.data.files.updated);case 12:return e.next=14,pe.cleanAllFlag("folders",this.data.folders.updated);case 14:be.commit("updateState",{key:"isDataChanged",value:!1}),be.commit("updateState",{key:"lastBackup",value:Date.now()}),localStorage.setItem("lastBackup",t),localStorage.setItem("isDataChanged",!1),this.fireEvent("progress",!1),e.next=24;break;case 21:e.prev=21,e.t0=e["catch"](2),console.error(e.t0);case 24:case"end":return e.stop()}}),e,this,[[2,21]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"fireEvent",value:function(e,t){this.listeners[e]&&this.listeners[e](t)}},{key:"on",value:function(e,t){this.listeners=Object(Y["a"])(Object(_["a"])({},e,t),this.listeners)}},{key:"timer",value:function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6e4;le.user&&(clearInterval(e),e=setInterval((function(){be.state.isDataChanged&&t.fetch()}),n))}}]),e}(),ve=new me,he={class:"user-popover inline-block"},ge={class:"list-none"},ye={class:"leading-tight"},ke={class:"leading-tight text-lighter"},we={key:1},xe=Object(r["j"])("div",{class:"h1 border-b mt-4 mb-2"},null,-1),Ce=Object(r["j"])("span",null,"Dark Mode",-1),Me=Object(r["j"])("div",{class:"h1 border-b my-2"},null,-1),Be=Object(r["j"])("span",null,"Logout",-1),Se=Object(r["j"])("span",null,"Login",-1);function Ae(e,t,n,c,a,o){var i=Object(r["B"])("icon-ui"),l=Object(r["B"])("avatar-ui"),u=Object(r["B"])("switch-ui"),s=Object(r["B"])("list-item-ui"),d=Object(r["B"])("list-ui"),b=Object(r["B"])("popover-ui"),j=Object(r["B"])("auth-modal"),f=Object(r["C"])("close-popover");return Object(r["v"])(),Object(r["g"])("div",he,[Object(r["j"])(b,{class:"align-middle"},{popover:Object(r["M"])((function(){return[Object(r["j"])(d,{class:"w-56"},{default:Object(r["M"])((function(){return[Object(r["j"])("li",ge,[c.user?(Object(r["v"])(),Object(r["g"])(r["a"],{key:0},[Object(r["j"])("p",ye,Object(r["G"])(c.user.displayName),1),Object(r["j"])("p",ke,Object(r["G"])(c.user.email),1)],64)):(Object(r["v"])(),Object(r["g"])("p",we,"Guest"))]),xe,Object(r["j"])(s,{small:"",class:"mb-1"},{prepend:Object(r["M"])((function(){return[Object(r["j"])(i,{name:"moon"})]})),append:Object(r["M"])((function(){return[Object(r["j"])(u,{modelValue:c.isDark,"onUpdate:modelValue":t[1]||(t[1]=function(e){return c.isDark=e}),class:"align-middle"},null,8,["modelValue"])]})),default:Object(r["M"])((function(){return[Ce]})),_:1}),Me,c.user?(Object(r["v"])(),Object(r["g"])(s,{key:0,small:"",class:"text-danger cursor-pointer",onClick:c.logout},{prepend:Object(r["M"])((function(){return[Object(r["j"])(i,{name:"logout"})]})),default:Object(r["M"])((function(){return[Be]})),_:1},8,["onClick"])):Object(r["N"])((Object(r["v"])(),Object(r["g"])(s,{key:1,onClick:t[2]||(t[2]=function(e){return c.showAuthModal=!0}),small:"",class:"cursor-pointer"},{prepend:Object(r["M"])((function(){return[Object(r["j"])(i,{name:"login"})]})),default:Object(r["M"])((function(){return[Se]})),_:1},512)),[[f]])]})),_:1})]})),default:Object(r["M"])((function(){return[Object(r["j"])(l,{style:{cursor:"pointer"},class:"inline-block",size:"small",type:"round"},{default:Object(r["M"])((function(){return[c.user?(Object(r["v"])(),Object(r["g"])("img",{key:0,src:c.user.photoUrl,alt:"user photo"},null,8,["src"])):(Object(r["v"])(),Object(r["g"])(i,{key:1,name:"user"}))]})),_:1})]})),_:1}),Object(r["j"])(j,{modelValue:c.showAuthModal,"onUpdate:modelValue":t[3]||(t[3]=function(e){return c.showAuthModal=e})},null,8,["modelValue"])])}var _e=Object(r["i"])(" Login "),Fe={class:"space-y-2 mt-2"},Ne={class:"p-1 rounded-lg bg-white"},De=Object(r["j"])("span",{class:"ml-3"},"Continue with Google",-1);function Ee(e,t,c,a,o,i){var l=Object(r["B"])("modal-ui");return Object(r["v"])(),Object(r["g"])(l,Object(r["p"])({modelValue:c.modelValue},{"content-class":"max-w-sm",onClose:a.updateModal}),{header:Object(r["M"])((function(){return[_e]})),default:Object(r["M"])((function(){return[Object(r["j"])("div",Fe,[Object(r["j"])("button",{onClick:t[1]||(t[1]=function(e){return a.loginWith("google.com")}),class:"flex items-center px-4 w-full rounded-lg",style:{height:"52px","background-color":"#4285F4"}},[Object(r["j"])("div",Ne,[Object(r["j"])("img",{src:n("5f0f"),class:"h-6 w-6"},null,8,["src"])]),De])])]})),_:1},16,["onClose"])}var Ie={props:{modelValue:Boolean},setup:function(e,t){var n=t.emit;function r(e){le.signInWithProvider({provider:e,oauthScope:"https://www.googleapis.com/auth/userinfo.profile"})}function c(){n("update:modelValue",!1)}return{loginWith:r,updateModal:c}}};Ie.render=Ee;var Le=Ie,ze={components:{AuthModal:Le},setup:function(){var e=Object(C["b"])(),t=Object(c["e"])(),n=Object(c["b"])(),a=Object(r["y"])("dark"===t.currentTheme.value),o=Object(r["y"])(!1);function i(){n.confirm({title:"Are you sure?",content:"All files and folders will be deleted at this device!",buttons:{confirm:{variant:"danger",text:"Logout"}},onConfirm:function(){le.signOut().then(Object(x["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,R.$deleteAll();case 2:return e.next=4,L.$deleteAll();case 4:["deletedFiles","deletedFolders","lastBackup","isDataChanged"].forEach((function(e){localStorage.removeItem(e)})),setTimeout((function(){window.location.reload()}),1e3);case 6:case"end":return e.stop()}}),e)}))))}})}return Object(r["L"])(a,(function(e){t.setTheme(e?"dark":"light")})),{user:e.state.user,isDark:a,logout:i,showAuthModal:o}}};ze.render=Ae;var Re=ze;K.a.extend(W.a);var Pe={components:{UserPopover:Re},setup:function(){var e=Object(C["b"])(),t=Object(r["y"])(!1),n=Object(r["e"])((function(){var t=e.state.lastBackup,n=K()(t).fromNow();return n}));function c(t){var n=t.target;e.commit("updateState",{key:"searchQuery",value:n.value.toLowerCase()})}function a(){e.commit("updateState",{key:"showSidebar",value:!e.state.showSidebar})}function o(){t.value=!0,ve.init().then((function(){setTimeout((function(){t.value=!1}),2e3)}))}return ve.on("progress",(function(e){setTimeout((function(){t.value=e}),2e3)})),{state:e.state,lastBackup:n,backupData:o,isBackingUp:t,toggleSidebar:a,updateSearchQuery:c}}};Pe.render=ae;var Ue=Pe,Ve={components:{HomeSidebar:U,Snippets:X,HomeNavigation:Ue},setup:function(){var e=Object(a["c"])();return Object(r["t"])((function(){ve.timer(1e4)})),{route:e}}};Ve.render=s;var $e=Ve,Te={key:0,class:"h-full snippet relative flex flex-col"},Ge={key:0,class:"bg-light absolute top-0 z-50 rounded-br-lg"},He={key:1,class:"pt-3 px-5 flex items-center justify-between"},Je={class:"md:w-7/12 w-6/12"},Ye={class:"text-lighter text-sm text-overflow"},qe={class:"px-5 text-sm text-lighter py-2"},Ke={class:"float-right"};function Qe(e,t,n,c,a,o){var i=Object(r["B"])("icon-ui"),l=Object(r["B"])("file-buttons-group"),u=Object(r["B"])("expand-transition"),s=Object(r["B"])("codemirror"),d=Object(r["B"])("list-item-ui"),b=Object(r["B"])("list-ui"),j=Object(r["B"])("popover-ui");return c.file?(Object(r["v"])(),Object(r["g"])("div",Te,[Object(r["j"])(u,null,{default:Object(r["M"])((function(){return[c.state.isEditorFocused?(Object(r["v"])(),Object(r["g"])("button",Ge,[Object(r["j"])(i,{name:"chevronDown",size:"18"})])):(Object(r["v"])(),Object(r["g"])("div",He,[Object(r["j"])("div",Je,[Object(r["j"])("input",{type:"text",value:c.file.name,class:"bg-transparent text-lg",onChange:t[1]||(t[1]=function(){return c.updateFileName.apply(c,arguments)}),maxlength:"60",required:""},null,40,["value"]),Object(r["j"])("p",Ye," Created at: "+Object(r["G"])(c.formatDate(c.file.createdAt)),1)]),Object(r["j"])(l,Object(r["p"])({file:c.file},{onChange:c.updateFile}),null,16,["onChange"])]))]})),_:1}),Object(r["j"])(s,{class:"flex-1 overflow-auto scroll mt-2","model-value":c.file.code,onChange:t[2]||(t[2]=function(e){return c.updateFile({code:e})}),onCursorActivity:t[3]||(t[3]=function(e){return c.state.cursorPosition=e}),onFocus:t[4]||(t[4]=function(e){return c.state.isEditorFocused=!0}),onBlur:t[5]||(t[5]=function(e){return c.state.isEditorFocused=!1}),options:c.state.cmOptions},null,8,["model-value","options"]),Object(r["j"])("div",qe,[Object(r["j"])(j,null,{popover:Object(r["M"])((function(){return[Object(r["j"])(b,{class:"w-32 space-y-1 text-default text-base"},{default:Object(r["M"])((function(){return[(Object(r["v"])(!0),Object(r["g"])(r["a"],null,Object(r["z"])(c.languages,(function(e,t){return Object(r["v"])(),Object(r["g"])(d,{active:t===c.file.language,key:t,small:"",class:"cursor-pointer",onClick:function(e){return c.updateFile({language:t})}},{default:Object(r["M"])((function(){return[Object(r["i"])(Object(r["G"])(t),1)]})),_:2},1032,["active","onClick"])})),128))]})),_:1})]})),default:Object(r["M"])((function(){return[Object(r["j"])("button",null,Object(r["G"])(c.file.language),1)]})),_:1}),Object(r["j"])("span",Ke," Line "+Object(r["G"])(c.state.cursorPosition.line+1)+", Column "+Object(r["G"])(c.state.cursorPosition.column+1),1)])])):Object(r["h"])("",!0)}n("7db0"),n("ac1f"),n("5319");var We={css:{ext:"css",mode:"text/css"},html:{ext:"html",mode:"htmlmixed"},javascript:{ext:"js",mode:"text/javascript"},json:{ext:"json",mode:"application/json"},less:{ext:"less",mode:"text/x-less"},scss:{ext:"scss",mode:"text/x-scss"},typescript:{ext:"ts",mode:"text/typescript"},vue:{ext:"vue",mode:"text/x-vue"}},Ze={class:"flex justify-between w-48"},Xe=Object(r["j"])("span",null,"Share snippet",-1),et={key:0,class:"text-center my-2 text-light"},tt=Object(r["i"])(" Copy code "),nt=Object(r["i"])(" Delete snippet ");function rt(e,t,n,c,a,o){var i=Object(r["B"])("icon-ui"),l=Object(r["B"])("button-ui"),u=Object(r["B"])("switch-ui"),s=Object(r["B"])("slide-transition"),d=Object(r["B"])("popover-ui"),b=Object(r["B"])("list-item-ui"),j=Object(r["B"])("list-ui"),f=Object(r["B"])("button-group-ui"),p=Object(r["C"])("tooltip"),O=Object(r["C"])("close-popover");return Object(r["v"])(),Object(r["g"])(f,{class:"divide-x",onClick:t[4]||(t[4]=Object(r["P"])((function(){}),["stop"]))},{default:Object(r["M"])((function(){return[Object(r["N"])(Object(r["j"])(l,{icon:"",onClick:t[1]||(t[1]=function(e){return c.updateFile("starred",!n.file.starred)})},{default:Object(r["M"])((function(){return[Object(r["j"])(i,{size:"20",name:n.file.starred?"starSolid":"star",class:{"text-warning":n.file.starred}},null,8,["name","class"])]})),_:1},512),[[p,n.file.starred?"Starred":"Not starred","top",{group:!0}]]),Object(r["j"])(d,null,{popover:Object(r["M"])((function(){return[Object(r["j"])("div",Ze,[Xe,c.store.state.user?(Object(r["v"])(),Object(r["g"])(u,{key:0,"model-value":n.file.isShared,"onUpdate:modelValue":t[2]||(t[2]=function(e){return c.updateFile("isShared",!n.file.isShared)})},null,8,["model-value"])):Object(r["h"])("",!0)]),Object(r["j"])(s,{direction:"top"},{default:Object(r["M"])((function(){return[c.store.state.user&&n.file.isShared?(Object(r["v"])(),Object(r["g"])("input",{key:0,type:"text","aria-label":"share url",placeholder:"url",onClick:t[3]||(t[3]=function(){return c.copyUrl.apply(c,arguments)}),class:"p-2 w-48 rounded-lg bg-input hover:bg-input-dark transition-colors duration-200 ease-in mt-4",readonly:"",value:"".concat(c.location,"/snippet/").concat(n.file.id)},null,8,["value"])):Object(r["h"])("",!0)]})),_:1}),c.store.state.user?Object(r["h"])("",!0):(Object(r["v"])(),Object(r["g"])("p",et,"You need to login first"))]})),default:Object(r["M"])((function(){return[Object(r["N"])(Object(r["j"])(l,{icon:"",class:{"text-primary":n.file.isShared}},{default:Object(r["M"])((function(){return[Object(r["j"])(i,{size:"20",name:"link"})]})),_:1},8,["class"]),[[p,"Share","top",{group:!0}]])]})),_:1}),Object(r["N"])(Object(r["j"])(l,{class:"hidden md:inline-block",icon:"",onClick:c.copyCode},{default:Object(r["M"])((function(){return[Object(r["j"])(i,{size:"20",name:"clipboardCopy"})]})),_:1},8,["onClick"]),[[p,"Copy code","top",{group:!0}]]),Object(r["N"])(Object(r["j"])(l,{icon:"",class:"text-danger hidden md:inline-block rounded-r-lg",onClick:c.deleteFile},{default:Object(r["M"])((function(){return[Object(r["j"])(i,{size:"20",name:"trash"})]})),_:1},8,["onClick"]),[[p,"Delete","top",{group:!0}]]),Object(r["j"])(d,{class:"md:hidden"},{popover:Object(r["M"])((function(){return[Object(r["j"])(j,{class:"space-y-1 w-48"},{default:Object(r["M"])((function(){return[Object(r["N"])(Object(r["j"])(b,{class:"cursor-pointer",small:"",onClick:c.copyCode},{prepend:Object(r["M"])((function(){return[Object(r["j"])(i,{name:"clipboardCopy"})]})),default:Object(r["M"])((function(){return[tt]})),_:1},8,["onClick"]),[[O]]),Object(r["N"])(Object(r["j"])(b,{class:"cursor-pointer text-danger",small:"",onClick:c.deleteFile},{prepend:Object(r["M"])((function(){return[Object(r["j"])(i,{name:"trash"})]})),default:Object(r["M"])((function(){return[nt]})),_:1},8,["onClick"]),[[O]])]})),_:1})]})),default:Object(r["M"])((function(){return[Object(r["j"])(l,{icon:""},{default:Object(r["M"])((function(){return[Object(r["j"])(i,{size:"20",name:"dotsHorizontal"})]})),_:1})]})),_:1})]})),_:1})}var ct=function(e){var t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)},at={props:{file:{type:Object,default:function(){return{}}}},setup:function(e,t){var n=t.emit,o=Object(C["b"])(),i=Object(a["d"])();function l(e){e.target.select(),document.execCommand("copy"),Object(c["d"])({content:"Link copied",duration:2e3})}function u(){var e=document.querySelector(".CodeMirror"),t=e.CodeMirror.getValue();ct(t),Object(c["d"])({content:"Code copied",duration:2e3})}function s(){L.$delete(e.file.id).then((function(){i.replace("/")}))}return Object(r["t"])((function(){Object(c["c"])()})),{store:o,copyUrl:l,copyCode:u,location:window.location.origin,deleteFile:s,updateFile:function(e,t){n("change",Object(_["a"])({},e,t))}}}};at.render=rt;var ot=at,it={components:{Codemirror:Object(r["k"])((function(){return n.e("chunk-6d9c2f68").then(n.bind(null,"adbd"))})),FileButtonsGroup:ot},setup:function(){var e=Object(a["c"])(),t=Object(a["d"])(),n=Object(r["e"])((function(){return e.params.fileId})),c=Object(r["e"])((function(){var e=L.find(n.value);return null===e?(t.replace("/"),{}):e})),o=Object(r["x"])({isEditorFocused:!1,cmOptions:{mode:"text/javascript"},cursorPosition:{line:1,column:1}});function i(e){L.$update({where:c.value.id,data:Object(Y["a"])(Object(Y["a"])({},e),{},{isEdited:!0})})}function l(e){var t=e.target,n=t.value,r=""!==n.replace(/\s/g,"");r?i({name:n}):t.value=c.value.name}function u(e){return K()(e).format("DD MMMM YYYY, h:mm A")}return Object(r["L"])((function(){return c.value.language}),(function(){var e;o.cmOptions={mode:null===(e=We[c.value.language])||void 0===e?void 0:e.mode}}),{immediate:!0}),{file:c,state:o,languages:We,updateFile:i,formatDate:u,updateFileName:l}}};it.render=Qe;var lt=it,ut={class:"snippet-view container my-10 px-4"},st={key:1,class:"w-64 bg-input-dark animate-pulse rounded-lg mb-12 h-12"},dt={class:"editor bg-light rounded-lg pb-4"},bt={class:"rounded-t-lg p-4 mb-4 flex items-center border-b"},jt={key:0,class:"file-info"},ft={class:"text-sm leading-tight text-lighter"},pt={key:1,class:"h-10 rounded-lg w-48 bg-input-dark animate-pulse"},Ot=Object(r["j"])("div",{class:"flex-grow"},null,-1),mt={key:2,class:"px-3 py-2 rounded-full bg-danger self-center bg-opacity-25 text-danger mr-4"},vt=Object(r["j"])("span",{class:"ml-1 text-sm"},"Private",-1);function ht(e,t,n,c,a,o){var i=Object(r["B"])("snippet-navigation"),l=Object(r["B"])("icon-ui"),u=Object(r["B"])("buttons-group"),s=Object(r["B"])("codemirror"),d=Object(r["C"])("tooltip");return Object(r["v"])(),Object(r["g"])("div",ut,[c.isRetrieved?(Object(r["v"])(),Object(r["g"])(i,Object(r["p"])({key:0},{file:c.file}),null,16)):(Object(r["v"])(),Object(r["g"])("div",st)),Object(r["j"])("div",dt,[Object(r["j"])("div",bt,[c.isRetrieved?(Object(r["v"])(),Object(r["g"])("div",jt,[Object(r["j"])("p",null,Object(r["G"])(c.file.name),1),Object(r["j"])("p",ft,Object(r["G"])(c.file.language),1)])):(Object(r["v"])(),Object(r["g"])("div",pt)),Ot,c.isLocalFile&&!c.file.isShared?Object(r["N"])((Object(r["v"])(),Object(r["g"])("div",mt,[Object(r["j"])(l,{name:"lockClosed",size:"20"}),vt],512)),[[d,"Only you can see this snippet","bottom"]]):Object(r["h"])("",!0),Object(r["j"])(u,Object(r["p"])({file:c.file,isLocalFile:c.isLocalFile},{onFork:t[1]||(t[1]=function(e){return c.isLocalFile=!0})}),null,16)]),Object(r["j"])(s,{"model-value":c.file.code,options:c.cmOptions},null,8,["model-value","options"])])])}var gt={class:"nav flex mb-12 items-center"},yt={class:"author flex items-center"},kt={class:"author__name"},wt={class:"leading-tight text-lighter"},xt=Object(r["j"])("div",{class:"flex-grow"},null,-1);function Ct(e,t,n,c,a,o){var i=Object(r["B"])("icon-ui"),l=Object(r["B"])("avatar-ui"),u=Object(r["B"])("button-ui"),s=Object(r["C"])("tooltip");return Object(r["v"])(),Object(r["g"])("nav",gt,[Object(r["j"])("div",yt,[Object(r["j"])(l,{class:"mr-4"},{default:Object(r["M"])((function(){return[n.file.user.photoURL?(Object(r["v"])(),Object(r["g"])("img",{key:0,src:n.file.user.photoURL,alt:"user photo"},null,8,["src"])):(Object(r["v"])(),Object(r["g"])(i,{key:1,name:"user"}))]})),_:1}),Object(r["j"])("div",kt,[Object(r["j"])("p",null,Object(r["G"])(n.file.user.displayName),1),Object(r["j"])("p",wt," Created at: "+Object(r["G"])(c.formatDate(n.file.createdDate)),1)])]),xt,Object(r["N"])(Object(r["j"])(u,{onClick:c.theme.toggle,icon:"",class:{"text-primary":"dark"===c.theme.currentTheme.value}},{default:Object(r["M"])((function(){return[Object(r["j"])(i,{name:"moon"})]})),_:1},8,["onClick","class"]),[[s,"Dark mode"]])])}var Mt={props:{file:{type:Object,default:function(){return{}}}},setup:function(){var e=function(e){return K()(e).format("DD MMMM YYYY")},t=Object(c["e"])();return{theme:t,formatDate:e}}};Mt.render=Ct;var Bt=Mt,St=Object(r["i"])(" Fork Snippet ");function At(e,t,n,c,a,o){var i=Object(r["B"])("icon-ui"),l=Object(r["B"])("button-ui"),u=Object(r["B"])("select-ui"),s=Object(r["B"])("popover-ui"),d=Object(r["B"])("button-group-ui"),b=Object(r["C"])("tooltip"),j=Object(r["C"])("close-popover");return Object(r["v"])(),Object(r["g"])(d,{class:"divide-x"},{default:Object(r["M"])((function(){return[n.isLocalFile?Object(r["h"])("",!0):(Object(r["v"])(),Object(r["g"])(s,{key:0},{popover:Object(r["M"])((function(){return[Object(r["j"])(u,{label:"Select folder",options:c.folders,"item-label":"name","item-value":"id",modelValue:c.selectedFolder,"onUpdate:modelValue":t[1]||(t[1]=function(e){return c.selectedFolder=e})},null,8,["options","modelValue"]),Object(r["N"])(Object(r["j"])(l,{block:"",variant:"primary",class:"mt-4",disabled:""===c.selectedFolder,onClick:c.forkSnippet},{default:Object(r["M"])((function(){return[St]})),_:1},8,["disabled","onClick"]),[[j]])]})),default:Object(r["M"])((function(){return[Object(r["N"])(Object(r["j"])(l,{icon:""},{default:Object(r["M"])((function(){return[Object(r["j"])(i,{name:"mdiSourceFork"})]})),_:1},512),[[b,"Fork snippet",void 0,{group:!0}]])]})),_:1})),Object(r["N"])(Object(r["j"])(l,{icon:"",onClick:c.copyCode},{default:Object(r["M"])((function(){return[Object(r["j"])(i,{name:"clipboardCopy"})]})),_:1},8,["onClick"]),[[b,"Copy code",void 0,{group:!0}]])]})),_:1})}var _t={props:{file:{type:Object,default:function(){return{}}},isLocalFile:Boolean},setup:function(e,t){var n,a=t.emit,o=R.all(),i=Object(r["y"])((null===(n=o[0])||void 0===n?void 0:n.id)||"");function l(){ct(e.file.value.code),Object(c["d"])({content:"Code copied",duration:2e3})}function u(){var t=Object(Y["a"])({},e.file);delete t.id,L.$create({data:Object(Y["a"])(Object(Y["a"])({},t),{},{createdAt:Date.now(),isEdited:!0,isNew:!0})}).then((function(e){a("fork",e)}))}return Object(r["t"])((function(){Object(c["c"])()})),{folders:o,copyCode:l,forkSnippet:u,selectedFolder:i}}};_t.render=At;var Ft=_t,Nt={components:{ButtonsGroup:Ft,Codemirror:Object(r["k"])((function(){return n.e("chunk-6d9c2f68").then(n.bind(null,"adbd"))})),SnippetNavigation:Bt},setup:function(){var e=Object(C["b"])(),t=Object(a["d"])(),n=t.currentRoute.value,c=Object(r["y"])(!1),o=Object(r["y"])(!1),i=Object(r["y"])({user:{}}),l=Object(r["E"])({readOnly:!0,mode:""});return Object(r["t"])(Object(x["a"])(regeneratorRuntime.mark((function r(){var a,u,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(r.prev=0,a=L.find(n.params.fileId),null===a){r.next=7;break}c.value=!0,i.value=Object(Y["a"])(Object(Y["a"])({},a),{},{user:{displayName:e.state.user.displayName||"Guest",photoURL:(null===(u=e.state.user)||void 0===u?void 0:u.photoUrl)||null}}),r.next=11;break;case 7:return r.next=9,ue("/files/".concat(n.params.fileId));case 9:s=r.sent,i.value=s;case 11:l.mode=We[i.value.language].mode,o.value=!0,r.next=19;break;case 15:r.prev=15,r.t0=r["catch"](0),console.error(r.t0),t.replace("/404");case 19:case"end":return r.stop()}}),r,null,[[0,15]])})))),{file:i,cmOptions:l,languages:We,isRetrieved:o,isLocalFile:c}}};n("3dfe");Nt.render=ht;var Dt=Nt,Et={class:"my-6 text-center"};function It(e,t,n,c,a,o){return Object(r["v"])(),Object(r["g"])("p",Et," Redirecting... ")}var Lt={setup:function(){le.handleSignInRedirect().then((function(){window.location.href="/"}))}};Lt.render=It;var zt=Lt,Rt={class:"h-screen flex items-center justify-center"},Pt={class:"ml-6"},Ut=Object(r["j"])("p",{class:"text-2xl mb-4"},"Oh, no! This page doesn't exist.",-1),Vt=Object(r["i"])("Go to main page");function $t(e,t,c,a,o,i){var l=Object(r["B"])("button-ui"),u=Object(r["B"])("router-link");return Object(r["v"])(),Object(r["g"])("div",Rt,[Object(r["j"])("img",{class:"w-56",src:n("eb2b")},null,8,["src"]),Object(r["j"])("div",Pt,[Ut,Object(r["j"])(u,{to:"/"},{default:Object(r["M"])((function(){return[Object(r["j"])(l,{variant:"primary"},{default:Object(r["M"])((function(){return[Vt]})),_:1})]})),_:1})])])}const Tt={};Tt.render=$t;var Gt=Tt,Ht=[{path:"/",name:"home",component:$e,children:[{path:"view/:fileId",name:"view",component:lt}]},{path:"/snippet/:fileId",name:"snippet",component:Dt},{path:"/auth",name:"auth",component:zt},{path:"/404",name:"not-found",component:Gt},{path:"/:pathMatch(.*)*",name:"not-found",component:Gt}],Jt=Object(a["a"])({history:Object(a["b"])(),routes:Ht}),Yt=Jt,qt={class:"app"},Kt={key:1,class:"my-10"};function Qt(e,t,n,c,a,o){var i=Object(r["B"])("router-view"),l=Object(r["B"])("spinner-ui");return Object(r["v"])(),Object(r["g"])("div",qt,[c.isRetrieved?(Object(r["v"])(),Object(r["g"])(i,{key:0})):(Object(r["v"])(),Object(r["g"])("div",Kt,[Object(r["j"])(l,{class:"mx-auto"})]))])}n("c740"),n("a434");function Wt(e,t){var n=be.$db().model(e),r=n.all();r.forEach((function(e){var r=t.findIndex((function(t){var n=t.id;return n===e.id}));-1!==r||e.isNew?-1!==r&&(n.$update({where:e.id,data:Object(Y["a"])(Object(Y["a"])({},t[r]),{},{createdAt:D(t[r].createdAt)})}),t.splice(r,1)):n.$delete(e.id)})),n.$update({data:t.map((function(e){return Object(Y["a"])(Object(Y["a"])({},e),{},{createdAt:D(e.createdAt)})}))})}var Zt=function(){return Xt.apply(this,arguments)};function Xt(){return Xt=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(le.user){e.next=2;break}return e.abrupt("return");case 2:return t=+localStorage.getItem("lastBackup"),e.next=5,ue("/sync?timestamp=".concat(t));case 5:if(n=e.sent,!n.empty){e.next=8;break}return e.abrupt("return");case 8:Wt("folders",n.folders),Wt("files",n.files),localStorage.setItem("lastBackup",n.lastBackup?D(n.lastBackup):Date.now());case 11:case"end":return e.stop()}}),e)}))),Xt.apply(this,arguments)}n("13d5"),n("b64b");var en=n("4dec"),tn=new en["a"]("snapcode");function nn(e){var t=Object.keys(We),n=t.find((function(t){return We[t].mode===e}));return n}function rn(e){var t=Object.keys(e);if(0===t.length)return null;var n=t.map((function(t){var n=e[t],r=n.content,c=n.star,a=n.title,o=n.createDate,i=n.mode,l=nn(i);return delete e[t].folderId,{id:Object(N["a"])(),language:l,code:r,starred:c,name:a,createdAt:o,isEdited:!0,isNew:!0}}));return n}function cn(e,t){return e.find((function(e){return e.id===t}))||{name:""}}function an(e,t){var n=e.reduce((function(e,n){var r=cn(t,n.folderId),c=r.name,a=rn(n.data);return e.push({name:c,id:Object(N["a"])(),isNew:!0,isEdited:!0,files:a}),tn.folders.delete(n.folderId),e}),[]);return n}tn.version(1).stores({folders:"id, name",files:"folderId, data",tags:"id, name"});var on=function(){return ln.apply(this,arguments)};function ln(){return ln=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tn.files.toArray();case 3:return t=e.sent,e.next=6,tn.folders.toArray();case 6:if(n=e.sent,0!==t.length||0!==n.length){e.next=9;break}return e.abrupt("return");case 9:return r=an(t,n),e.next=12,R.$update({data:r});case 12:return e.next=14,tn.delete();case 14:e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](0),console.error(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])}))),ln.apply(this,arguments)}var un={setup:function(){var e=Object(C["b"])(),t=Object(r["y"])(!1),n=Object(r["y"])(!1),a=Object(c["e"])();function o(){window.location.reload()}return a.setTheme(localStorage.getItem("theme")||"dark"),Object(r["t"])(Object(x["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.dispatch("retrieveData");case 3:return n.next=5,Zt();case 5:return n.next=7,on();case 7:t.value=!0,n.next=14;break;case 10:n.prev=10,n.t0=n["catch"](0),t.value=!0,console.error(n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,10]])})))),{reload:o,isError:n,isRetrieved:t}}};un.render=Qt;var sn=un,dn=function(e){return{paths:Array.isArray(e)?e:[e],pathAttrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",fill:"none",stroke:"currentColor"}}},bn={archive:dn("M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"),star:dn("M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"),link:dn("M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"),trash:dn("M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"),search:dn("M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"),moon:dn("M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"),mdiPlus:dn("M12 6v6m0 0v6m0-6h6m-6 0H6"),clipboardCopy:dn("M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"),folder:dn("M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"),sortAscending:dn("M3 4h13M3 8h9m-9 4h6m4 0l4-4m0 0l4 4m-4-4v12"),sortDescending:dn("M3 4h13M3 8h9m-9 4h9m5-4v12m0 0l-4-4m4 4l4-4"),dotsHorizontal:dn("M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"),chevronDown:dn("M19 9l-7 7-7-7"),pencil:dn("M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"),cloudUpload:dn("M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"),user:dn("M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"),logout:dn("M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"),login:dn("M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"),menu:dn("M4 6h16M4 12h16M4 18h16"),cog:dn(["M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z","M15 12a3 3 0 11-6 0 3 3 0 016 0z"]),arrowLeft:dn("M10 19l-7-7m0 0l7-7m-7 7h18"),share:dn("M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"),lockClosed:dn("M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"),mdiSourceFork:{paths:"M6,2A3,3 0 0,1 9,5C9,6.28 8.19,7.38 7.06,7.81C7.15,8.27 7.39,8.83 8,9.63C9,10.92 11,12.83 12,14.17C13,12.83 15,10.92 16,9.63C16.61,8.83 16.85,8.27 16.94,7.81C15.81,7.38 15,6.28 15,5A3,3 0 0,1 18,2A3,3 0 0,1 21,5C21,6.32 20.14,7.45 18.95,7.85C18.87,8.37 18.64,9 18,9.83C17,11.17 15,13.08 14,14.38C13.39,15.17 13.15,15.73 13.06,16.19C14.19,16.62 15,17.72 15,19A3,3 0 0,1 12,22A3,3 0 0,1 9,19C9,17.72 9.81,16.62 10.94,16.19C10.85,15.73 10.61,15.17 10,14.38C9,13.08 7,11.17 6,9.83C5.36,9 5.13,8.37 5.05,7.85C3.86,7.45 3,6.32 3,5A3,3 0 0,1 6,2M6,4A1,1 0 0,0 5,5A1,1 0 0,0 6,6A1,1 0 0,0 7,5A1,1 0 0,0 6,4M18,4A1,1 0 0,0 17,5A1,1 0 0,0 18,6A1,1 0 0,0 19,5A1,1 0 0,0 18,4M12,18A1,1 0 0,0 11,19A1,1 0 0,0 12,20A1,1 0 0,0 13,19A1,1 0 0,0 12,18Z"},mdiGithub:{paths:"M12,2A10,10 0 0,0 2,12C2,16.42 4.87,20.17 8.84,21.5C9.34,21.58 9.5,21.27 9.5,21C9.5,20.77 9.5,20.14 9.5,19.31C6.73,19.91 6.14,17.97 6.14,17.97C5.68,16.81 5.03,16.5 5.03,16.5C4.12,15.88 5.1,15.9 5.1,15.9C6.1,15.97 6.63,16.93 6.63,16.93C7.5,18.45 8.97,18 9.54,17.76C9.63,17.11 9.89,16.67 10.17,16.42C7.95,16.17 5.62,15.31 5.62,11.5C5.62,10.39 6,9.5 6.65,8.79C6.55,8.54 6.2,7.5 6.75,6.15C6.75,6.15 7.59,5.88 9.5,7.17C10.29,6.95 11.15,6.84 12,6.84C12.85,6.84 13.71,6.95 14.5,7.17C16.41,5.88 17.25,6.15 17.25,6.15C17.8,7.5 17.45,8.54 17.35,8.79C18,9.5 18.38,10.39 18.38,11.5C18.38,15.32 16.04,16.16 13.81,16.41C14.17,16.72 14.5,17.33 14.5,18.26C14.5,19.6 14.5,20.68 14.5,21C14.5,21.27 14.66,21.59 15.17,21.5C19.14,20.16 22,16.42 22,12A10,10 0 0,0 12,2Z"},starSolid:{viewBox:"0 0 20 20",paths:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"}},jn={mounted:function(e){e.setAttribute("style","height: ".concat(e.scrollHeight,"; overflow-y: hidden")),e.addEventListener("input",(function(){e.style.height="auto",e.style.height="".concat(e.scrollHeight,"px")}))}},fn=n("9483");Object(fn["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh."),window.location.reload(!0)},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});n("def6"),n("6672"),n("7e43");var pn=Object(r["f"])(sn);pn.directive("autoresize",jn),pn.use(c["a"],{icons:bn}),pn.use(be),pn.use(Yt),pn.mount("#app")},"5f0f":function(e,t,n){e.exports=n.p+"img/google-logo.f6ce5696.svg"},6672:function(e,t,n){},d641:function(e,t,n){"use strict";n("23de")},def6:function(e,t,n){},eb2b:function(e,t,n){e.exports=n.p+"img/404.803c3242.svg"}});
//# sourceMappingURL=app.8fa210b8.js.map